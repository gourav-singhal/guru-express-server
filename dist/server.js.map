{"version":3,"sources":["../src/server.js"],"names":["app","os","require","networkInterfaces","set","process","env","PORT","locals","port","externalAddress","en0","address","wlp4s0","server","listen","get","stdout","write","console","log"],"mappings":";;;;;;AAIA;;;;AACA;;;;;;2cALA;;;;;uDAQe;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAELA,eAFK,GAEC,wBAFD;AAGLC,cAHK,GAGAC,QAAQ,IAAR,CAHA;AAILC,6BAJK,GAIeF,GAAGE,iBAAH,EAJf;AAAA;AAAA,mBAML,oBAAK,EAAEH,QAAF,EAAL,CANK;;AAAA;;AASXA,gBAAII,GAAJ,CAAQ,MAAR,EAAgBC,QAAQC,GAAR,CAAYC,IAAZ,IAAoBP,IAAIQ,MAAJ,CAAWC,IAA/C;;AAEIC,2BAXO;;;AAaX,gBAAIP,kBAAkBQ,GAAlB,KAA0B,IAA9B,EAAoC;AAClCD,gCAAkBP,kBAAkBQ,GAAlB,CAAsB,CAAtB,EAAyBC,OAA3C;AACD,aAFD,MAEO,IAAIT,kBAAkBU,MAAtB,EAA8B;AACnCH,gCAAkBP,kBAAkBU,MAAlB,CAAyB,CAAzB,EAA4BD,OAA9C;AACD;;AAEKE,mBAnBK,GAmBId,IAAIe,MAAJ,CAAWf,IAAIgB,GAAJ,CAAQ,MAAR,CAAX,EAA4B,YAAM;AAC/C,kBAAMP,OAAOK,QAAOF,OAAP,GAAiBH,IAA9B;;AAEAJ,sBAAQY,MAAR,CAAeC,KAAf,6CACiClB,IAAIgB,GAAJ,CAAQ,KAAR,CADjC,uDAEmCP,IAFnC,iBAGEC,kBAAkB,sBAAsB,SAAtB,GAAkCA,eAAlC,GAAoD,GAApD,GAA0DD,IAA5E,GAAmF,EAHrF;AAKD,aARc,CAnBJ;AAAA;AAAA;;AAAA;AAAA;AAAA;;AA6BXU,oBAAQC,GAAR;;AA7BW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeN,M;;;;SAAAA,M","file":"server.js","sourcesContent":["/*\n* Application Server\n*/\n\nimport express from 'express';\nimport main from './main';\n\n\nexport default async function server () {\n  try {\n    const app = express();\n    const os = require('os');\n    const networkInterfaces = os.networkInterfaces();\n\n    await main({ app });\n\n    \n    app.set('port', process.env.PORT || app.locals.port);\n\n    let externalAddress;\n\n    if (networkInterfaces.en0 === true) {\n      externalAddress = networkInterfaces.en0[0].address;\n    } else if (networkInterfaces.wlp4s0) {\n      externalAddress = networkInterfaces.wlp4s0[0].address;\n    }\n\n    const server = app.listen(app.get('port'), () => {\n      const port = server.address().port;\n\n      process.stdout.write(`\n      Guru Express server started in ${app.get('env')} mode.\n      Local address : http://localhost:${port}\n      ${externalAddress ? 'External address ' + 'http://' + externalAddress + ':' + port : ''}\n      `);\n    });\n  } catch (error) {\n    console.log(error);\n  }\n    \n}\n"]}