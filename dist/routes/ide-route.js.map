{"version":3,"sources":["../../src/routes/ide-route.js"],"names":["ideRoute","app","context","logger","log","console","e","route","get","req","res","json","use","schema","typeDefs","resolvers"],"mappings":"AAAA;;;;AAIA;;;;;;;;kBAOwBA,Q;;AALxB;;AACA;;AACA;;AACA;;AAEe,SAASA,QAAT,OAAqC;AAAA,MAAhBC,GAAgB,QAAhBA,GAAgB;AAAA,MAAXC,OAAW,QAAXA,OAAW;;AAClD,MAAMC,SAAS,EAAEC,KAAK;AAAA,aAAKC,QAAQD,GAAR,CAAYE,CAAZ,CAAL;AAAA,KAAP,EAAf;;AAEAL,MAAIM,KAAJ,CAAU,aAAV,EAAyBC,GAAzB,CAA6B,UAACC,GAAD,EAAMC,GAAN;AAAA,WAAcA,IAAIC,IAAJ,CAAS,qCAAT,CAAd;AAAA,GAA7B;;AAEAN,UAAQD,GAAR;AACAH,MAAIW,GAAJ,CACE,MADF,EAEE,0CAAe,eAAO;;AAEpB,WAAO;AACLC,cAAQ,wCAAqB;AAC3BC,kCAD2B;AAE3BC,sCAF2B;AAG3BZ;AAH2B,OAArB,CADH;AAMLD,4BACKA,OADL;AAEEO;AAFF;AANK,KAAP;AAWD,GAbD,CAFF;AAiBD","file":"ide-route.js","sourcesContent":["/*\n* GraphQL rourte\n*/\n\n'use strict';\n\nimport { graphqlExpress } from 'graphql-server-express';\nimport { makeExecutableSchema } from 'graphql-tools';\nimport { parse } from 'graphql';\nimport { schema, resolvers } from '../modules/ide/index-ide';\n\nexport default function ideRoute ({ app, context }) {\n  const logger = { log: e => console.log(e) };\n\n  app.route('/ide/schema').get((req, res) => res.json(parse(schema)));\n\n  console.log(schema)\n  app.use(\n    '/ide',\n    graphqlExpress(req => {\n\n      return {\n        schema: makeExecutableSchema({\n          typeDefs: schema,\n          resolvers,\n          logger\n        }),\n        context: {\n          ...context,\n          req\n        }\n      };\n    })\n  );\n}\n"]}