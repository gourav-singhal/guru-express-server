{"version":3,"sources":["../../../../../src/modules/ide/ide-query-history/resolver/resolverMutation-ide-query-history.js"],"names":["fs","promisifyAll","require","ideQueryHistoryClear","obj","args","context","db","set","history","write","writeFileAsync","ideQueryHistorySave","defaults","get","push"],"mappings":"AAAA;;;;;;AACA;;;;AACA;;;;AACA;;;;AACA,IAAMA,KAAK,mBAASC,YAAT,CAAsBC,QAAQ,IAAR,CAAtB,CAAX;;kBAEe;AACbC,sBADa,gCACSC,GADT,EACcC,IADd,EACoBC,OADpB,EAC6B;AACxC,QAAMC,KAAK,mDAAX;AACAA,OAAGC,GAAH,CAAO,EAAEC,SAAS,EAAX,EAAP,EAAwBC,KAAxB;;AAEAV,OAAGW,cAAH,gCAAsC,wBAAtC;AACA,WAAO,EAAP;AACD,GAPY;AASbC,qBATa,+BASQR,GATR,EASaC,IATb,EASmBC,OATnB,EAS4B;AACvC,QAAMC,KAAK,mDAAX;;AAEAA,OAAGM,QAAH,CAAY,EAAEJ,SAAS,EAAX,EAAZ,EAA6BC,KAA7B;AACAH,OAAGO,GAAH,CAAO,SAAP,EAAkBC,IAAlB,CAAuBV,IAAvB,EAA6BK,KAA7B;AACD;AAdY,C","file":"resolverMutation-ide-query-history.js","sourcesContent":["'use strict';\nimport Bluebird from 'bluebird';\nimport low from 'lowdb';\nimport { QUERY_HISTORY_FILE } from '../../../constants';\nconst fs = Bluebird.promisifyAll(require('fs'));\n\nexport default {\n  ideQueryHistoryClear (obj, args, context) {\n    const db = low(QUERY_HISTORY_FILE);\n    db.set({ history: [] }).write();\n\n    fs.writeFileAsync(QUERY_HISTORY_FILE, '{\\n  \"history\": [] \\n}');\n    return [];\n  },\n\n  ideQueryHistorySave (obj, args, context) {\n    const db = low(QUERY_HISTORY_FILE);\n\n    db.defaults({ history: [] }).write();\n    db.get('history').push(args).write();\n  }\n};\n"]}