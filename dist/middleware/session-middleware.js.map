{"version":3,"sources":["../../src/middleware/session-middleware.js"],"names":["session","app","use","req","res","next","token","csrfToken","cookie"],"mappings":";;;;;kBAOwBA,O;;AAHxB;;;;AACA;;;;;;AALA;;;;AAOe,SAASA,OAAT,CAAkBC,GAAlB,EAAuB;AACpCA,MAAIC,GAAJ,CAAQ,6BAAR;AACA;AACAD,MAAIC,GAAJ,CAAQ,sBAAR;;AAEAD,MAAIC,GAAJ,CAAQ,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1B,QAAMC,QAAQH,IAAII,SAAJ,EAAd;;AAEAH,QAAII,MAAJ,CAAW,YAAX,EAAyBF,KAAzB;AACAD;AACD,GALD;AAMD","file":"session-middleware.js","sourcesContent":["/*\n*Application session\n*/\n\nimport csrf from 'csurf';\nimport cookieParser from 'cookie-parser';\n\nexport default function session (app) {\n  app.use(cookieParser());\n  // CSRF\n  app.use(csrf());\n\n  app.use((req, res, next) => {\n    const token = req.csrfToken();\n\n    res.cookie('XSRF-TOKEN', token);\n    next();\n  });\n};\n"]}